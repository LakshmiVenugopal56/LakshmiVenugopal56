<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Stone Paper Scissors</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
/* ===== COMMON THEME ===== */
body{
  margin:0;
  font-family:Arial, sans-serif;
  min-height:100vh;
  background:linear-gradient(135deg,#89f7fe,#66a6ff);
  color:#222;
}

/* ===== OPENING PAGE ===== */
#opening{
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
}

.open-card{
  width:340px;
  height:220px;
  background:linear-gradient(135deg,#ff9800,#ff5722);
  border-radius:30px;
  box-shadow:0 15px 40px rgba(0,0,0,0.3);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  cursor:pointer;
  transition:transform 0.3s;
}
.open-card:hover{ transform:scale(1.08); }

.open-emoji{ font-size:64px; }
.open-title{ font-size:26px; font-weight:bold; color:white; }
.open-sub{ font-size:16px; color:#fff; }

/* ===== GAME PAGE ===== */
#game{ display:none; padding:20px; }

header{
  text-align:center;
  padding:20px;
  font-size:28px;
  font-weight:bold;
  color:#333;
}

.top-controls{
  text-align:center;
  padding:10px;
}

button{
  padding:10px 16px;
  margin:5px;
  border:none;
  border-radius:8px;
  font-size:15px;
  cursor:pointer;
}
button:hover{ transform:scale(1.05); }

.primary{ background:#ff9800; color:#222; }
.disabled{ background:#aaa; color:#666; cursor:not-allowed; }

input{
  padding:6px;
  width:90px;
  text-align:center;
}

.game-area{
  display:flex;
  justify-content:space-around;
  padding:20px;
  flex-wrap:wrap;
}

.player{
  width:280px;
  background:rgba(255,255,255,0.7);
  border-radius:15px;
  padding:20px;
  text-align:center;
  box-shadow:0 8px 20px rgba(0,0,0,0.15);
}

.choice{
  font-size:60px;
  margin:10px;
}

.score{
  font-size:18px;
}

.status{
  text-align:center;
  font-size:20px;
  font-weight:bold;
  margin:10px;
}

.choice-buttons{
  text-align:center;
  margin:15px;
}
.choice-buttons button{ width:110px; }

/* ===== RECORD TABLE ===== */
#recordTable{
  width:100%;
  max-width:700px;
  margin:20px auto;
  border-collapse:collapse;
  display:none;
}
#recordTable th, #recordTable td{
  border:1px solid #555;
  padding:8px;
  text-align:center;
}
#recordTable th{
  background:#ff9800;
  color:#222;
}
</style>
</head>
<body>

<!-- ===== OPENING PAGE ===== -->
<div id="opening">
  <h1>Stone Paper Scissors</h1>
  <p>Fair ‚Ä¢ Fun ‚Ä¢ Strategic</p>
  <div class="open-card" onclick="startFromOpening()">
    <div class="open-emoji">ü™®üìÑ‚úÇÔ∏è</div>
    <div class="open-title">Play Game</div>
    <div class="open-sub">Tap to begin</div>
  </div>
</div>

<!-- ===== GAME PAGE ===== -->
<div id="game">
<header>ü™® Stone ‚Ä¢ üìÑ Paper ‚Ä¢ ‚úÇÔ∏è Scissors</header>

<div class="top-controls">
  <button class="primary" onclick="setMode('computer')">Play with Computer</button>
  <button class="primary" onclick="setMode('two')">Two Players</button>
  <button class="disabled">Play with Friend (Coming Soon)</button>
  <br><br>
  Rounds:
  <input type="number" id="totalRounds" placeholder="Enter rounds">
  <button class="primary" onclick="startGame()">Start Game</button>
</div>

<div class="game-area">
  <div class="player">
    <h3>Player 1</h3>
    <div class="choice" id="p1Display">‚ùî</div>
    <div class="score">Score: <span id="s1">0</span></div>
  </div>

  <div class="player">
    <h3 id="p2Title">Player 2</h3>
    <div class="choice" id="p2Display">‚ùî</div>
    <div class="score">Score: <span id="s2">0</span></div>
  </div>
</div>

<div class="choice-buttons" id="controls" style="display:none;">
  <button onclick="makeChoice('Stone')">ü™® Stone</button>
  <button onclick="makeChoice('Paper')">üìÑ Paper</button>
  <button onclick="makeChoice('Scissors')">‚úÇÔ∏è Scissors</button>
</div>

<div class="status" id="statusText"></div>

<!-- RECORD TABLE -->
<table id="recordTable">
  <thead>
    <tr>
      <th>Round</th>
      <th>Player 1 Choice</th>
      <th>Player 2 Choice</th>
      <th>Winner</th>
    </tr>
  </thead>
  <tbody id="recordBody"></tbody>
</table>

</div>

<script>
/* ===== OPENING LOGIC ===== */
function startFromOpening(){
  document.getElementById("opening").style.display="none";
  document.getElementById("game").style.display="block";
}

/* ===== GAME LOGIC ===== */
let mode="", rounds=0, currentRound=0;
let turn=1;
let p1Choice="", p2Choice="";
let score1=0, score2=0;
let record=[]; // Array to store round records

function setMode(m){
  mode=m;
  document.getElementById("p2Title").innerText =
    (m==="computer") ? "Computer" : "Player 2";
}

function startGame(){
  rounds=parseInt(document.getElementById("totalRounds").value);
  if(!mode || !rounds || rounds<=0){
    alert("Select mode and valid rounds");
    return;
  }
  currentRound=0; score1=0; score2=0; record=[];
  document.getElementById("s1").innerText=0;
  document.getElementById("s2").innerText=0;
  document.getElementById("controls").style.display="block";
  document.getElementById("statusText").innerText="Player 1's turn";
  document.getElementById("recordTable").style.display="none";
  document.getElementById("recordBody").innerHTML="";
}

function makeChoice(choice){
  if(currentRound>=rounds) return;

  if(mode==="computer"){
    p1Choice=choice;
    p2Choice=randomChoice();
    revealAndDecide();
  }else{
    if(turn===1){
      p1Choice=choice;
      document.getElementById("p1Display").innerText="üîí";
      document.getElementById("statusText").innerText="Player 2's turn";
      turn=2;
    }else{
      p2Choice=choice;
      document.getElementById("p2Display").innerText="üîí";
      revealAndDecide();
      turn=1;
    }
  }
}

function revealAndDecide(){
  document.getElementById("p1Display").innerText=icon(p1Choice);
  document.getElementById("p2Display").innerText=icon(p2Choice);

  let winner="";
  if(p1Choice===p2Choice) winner="Draw";
  else if(
      (p1Choice==="Stone"&&p2Choice==="Scissors")||
      (p1Choice==="Paper"&&p2Choice==="Stone")||
      (p1Choice==="Scissors"&&p2Choice==="Paper")
  ) { score1++; winner="Player 1"; }
  else { score2++; winner=(mode==="computer"?"Computer":"Player 2"); }

  // Store record
  record.push({
    round: currentRound+1,
    p1: p1Choice,
    p2: p2Choice,
    winner: winner
  });

  document.getElementById("s1").innerText=score1;
  document.getElementById("s2").innerText=score2;

  currentRound++;

  if(currentRound===rounds){
    endGame();
  }else{
    document.getElementById("statusText").innerText =
      "Round "+(currentRound+1)+" of "+rounds;
  }
}

function endGame(){
  let finalResult="";
  if(score1>score2) finalResult="üèÜ Player 1 Wins!";
  else if(score2>score1) finalResult="üèÜ "+(mode==="computer"?"Computer":"Player 2")+" Wins!";
  else finalResult="ü§ù Match Draw!";

  document.getElementById("statusText").innerText=finalResult;

  // Build record table
  let tbody=document.getElementById("recordBody");
  tbody.innerHTML="";
  record.forEach(r=>{
    let tr=document.createElement("tr");
    tr.innerHTML=`<td>${r.round}</td><td>${icon(r.p1)}</td><td>${icon(r.p2)}</td><td>${r.winner}</td>`;
    tbody.appendChild(tr);
  });
  document.getElementById("recordTable").style.display="table";
}

function randomChoice(){
  return ["Stone","Paper","Scissors"][Math.floor(Math.random()*3)];
}

function icon(c){ return c==="Stone"?"ü™®":c==="Paper"?"üìÑ":"‚úÇÔ∏è"; }
</script>

</body>
</html>
