<!DOCTYPE html>
<html>
<head>
  <title>Stone Paper Scissors</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #667eea, #764ba2);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      color: #333;
    }

    .game-box {
      background: white;
      width: 360px;
      padding: 25px;
      border-radius: 15px;
      text-align: center;
      box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    }

    h2 {
      margin-bottom: 10px;
    }

    button {
      padding: 10px 18px;
      margin: 8px;
      border: none;
      border-radius: 8px;
      background: #667eea;
      color: white;
      font-size: 15px;
      cursor: pointer;
    }

    button:hover {
      background: #5a67d8;
    }

    input {
      padding: 8px;
      width: 80px;
      text-align: center;
      margin-top: 10px;
    }

    .score {
      margin-top: 15px;
      font-weight: bold;
    }

    #finalResult {
      margin-top: 15px;
      font-size: 16px;
      font-weight: bold;
      color: #444;
    }
  </style>
</head>

<body>

<div class="game-box">
  <h2>Stone Paper Scissors</h2>

  <p>Enter number of rounds:</p>
  <input type="number" id="maxRounds" min="1" placeholder="5 or 10">
  <br><br>
  <button onclick="startGame()">Start Game</button>

  <h3 id="turn"></h3>

  <div id="buttons" style="display:none;">
    <button onclick="choose('Stone')">Stone</button>
    <button onclick="choose('Paper')">Paper</button>
    <button onclick="choose('Scissors')">Scissors</button>
  </div>

  <p id="message"></p>

  <div class="score">
    Player 1: <span id="p1">0</span> |
    Player 2: <span id="p2">0</span>
  </div>

  <p id="roundInfo"></p>
  <p id="finalResult"></p>

  <button onclick="resetGame()">Reset</button>
</div>

<script>
  let p1Choice = "";
  let p2Choice = "";
  let turn = 1;
  let score1 = 0;
  let score2 = 0;
  let round = 0;
  let totalRounds = 0;

  function startGame() {
    totalRounds = parseInt(document.getElementById("maxRounds").value);

    if (!totalRounds || totalRounds <= 0) {
      alert("Enter a valid number of rounds");
      return;
    }

    document.getElementById("buttons").style.display = "block";
    document.getElementById("turn").innerText = "Player 1's turn";
    document.getElementById("roundInfo").innerText = "Round 1 of " + totalRounds;
    document.getElementById("finalResult").innerText = "";
  }

  function choose(choice) {
    if (round >= totalRounds) return;

    if (turn === 1) {
      p1Choice = choice;
      turn = 2;
      document.getElementById("turn").innerText = "Player 2's turn";
      document.getElementById("message").innerText = "Player 1 has chosen";
    } else {
      p2Choice = choice;
      evaluateRound();
    }
  }

  function evaluateRound() {
    if (p1Choice === p2Choice) {
      // tie, no score
    } else if (
      (p1Choice === "Stone" && p2Choice === "Scissors") ||
      (p1Choice === "Paper" && p2Choice === "Stone") ||
      (p1Choice === "Scissors" && p2Choice === "Paper")
    ) {
      score1++;
    } else {
      score2++;
    }

    round++;

    document.getElementById("p1").innerText = score1;
    document.getElementById("p2").innerText = score2;

    if (round === totalRounds) {
      declareWinner();
    } else {
      turn = 1;
      p1Choice = "";
      p2Choice = "";
      document.getElementById("turn").innerText = "Player 1's turn";
      document.getElementById("roundInfo").innerText =
        "Round " + (round + 1) + " of " + totalRounds;
      document.getElementById("message").innerText = "";
    }
  }

  function declareWinner() {
    let result = "";

    if (score1 > score2) {
      result = "üèÜ Player 1 Wins the Game!";
    } else if (score2 > score1) {
      result = "üèÜ Player 2 Wins the Game!";
    } else {
      result = "ü§ù It's a Draw!";
    }

    document.getElementById("finalResult").innerText = result;
    document.getElementById("turn").innerText = "Game Over";
    document.getElementById("roundInfo").innerText = "";
  }

  function resetGame() {
    score1 = score2 = round = 0;
    turn = 1;
    p1Choice = p2Choice = "";
    document.getElementById("p1").innerText = 0;
    document.getElementById("p2").innerText = 0;
    document.getElementById("turn").innerText = "";
    document.getElementById("roundInfo").innerText = "";
    document.getElementById("finalResult").innerText = "";
    document.getElementById("buttons").style.display = "none";
  }
</script>

</body>
</html>
